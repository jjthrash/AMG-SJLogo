#ifdef ARDUINO
#include "Arduino.h"
#else
#include "fakearduino.h"
#endif

#include "platform.h"

#include <stdio.h>
#include <string.h>

int red[] = {255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 252, 252, 252, 0, 252, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 252, 0, 0, 0, 252, 0, 0, 0, 252, 252, 252, 0, 252,
252, 252, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 252, 252, 252, 0, 252, 252, 252, 0, 252, 252,
252, 0, 0, 0, 252, 0, 252, 0, 252, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 252, 0, 252, 0, 0, 0, 252, 0,
0, 0, 252, 252, 252, 0, 252, 252, 252, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 252, 252, 252, 0, 0, 252, 252, 0,
252, 252, 252, 0, 252, 252, 252, 0, 252, 0, 252, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255,
255, 0, 0, 252, 252, 252, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 252, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 0, 0, 0, 0, 252,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 252, 0, 0, 0, 252, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 0, 0, 0, 0, 252, 0, 252, 0, 252, 0, 252,
252, 252, 0, 252, 252, 252, 0, 252, 252, 252, 0, 0, 0, 252, 252, 252, 0, 252, 252, 252, 0, 0, 255, 255, 0, 0, 0, 0, 252, 0, 252, 0, 252, 0, 252, 0, 252, 0, 252, 0, 0,
0, 252, 0, 0, 0, 252, 0, 252, 0, 252, 0, 252, 0, 252, 0, 0, 255, 255, 0, 0, 252, 252, 0, 0, 252, 252, 252, 0, 252, 0, 252, 0, 252, 252, 252, 0, 0, 252, 252, 0, 252,
0, 252, 252, 252, 0, 252, 0, 252, 0, 0, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255 };
int green[] = { 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 153, 153, 153, 153,
153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 153, 177, 177, 177, 153, 177, 153, 153, 153, 153, 153,
153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 153, 177, 153, 153, 153, 177, 153, 153, 153, 177, 177, 177, 153, 177, 177, 177, 153,
153, 153, 153, 153, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 153, 177, 177, 177, 153, 177, 177, 177, 153, 177, 177, 177, 153, 153, 153, 177, 153, 177, 153, 177, 153, 0, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 153, 153, 153, 177, 153, 177, 153, 153, 153, 177, 153, 153, 153, 177, 177, 177, 153, 177, 177, 177, 153, 0, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 0, 153, 177, 177, 177, 153, 153, 177, 177, 153, 177, 177, 177, 153, 177, 177, 177, 153, 177, 153, 177, 153, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0,
0, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 0, 0, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153,
153, 153, 153, 153, 153, 153, 153, 0, 0, 255, 255, 0, 153, 177, 177, 177, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 177, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153,
153, 153, 0, 255, 255, 0, 153, 153, 153, 177, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 177, 153, 153, 153, 177, 153, 153, 153, 153, 153, 153, 153, 153, 153, 0, 255, 255, 0,
153, 153, 153, 177, 153, 177, 153, 177, 153, 177, 177, 177, 153, 177, 177, 177, 153, 177, 177, 177, 153, 153, 153, 177, 177, 177, 153, 177, 177, 177, 153, 0, 255, 255, 0, 153, 153, 153, 177, 153, 177,
153, 177, 153, 177, 153, 177, 153, 177, 153, 153, 153, 177, 153, 153, 153, 177, 153, 177, 153, 177, 153, 177, 153, 177, 153, 0, 255, 255, 0, 153, 177, 177, 153, 153, 177, 177, 177, 153, 177, 153, 177,
153, 177, 177, 177, 153, 153, 177, 177, 153, 177, 153, 177, 177, 177, 153, 177, 153, 177, 153, 0, 255, 255, 0, 0, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153,
153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 153, 0, 0, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255 };
int blue[] = { 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 201, 201, 201, 201,
201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 201, 52, 52, 52, 201, 52, 201, 201, 201, 201, 201,
201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 201, 52, 201, 201, 201, 52, 201, 201, 201, 52, 52, 52, 201, 52, 52, 52, 201,
201, 201, 201, 201, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 201, 52, 52, 52, 201, 52, 52, 52, 201, 52, 52, 52, 201, 201, 201, 52, 201, 52, 201, 52, 201, 0, 255,
255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 201, 201, 201, 52, 201, 52, 201, 201, 201, 52, 201, 201, 201, 52, 52, 52, 201, 52, 52, 52, 201, 0, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255, 255, 255, 0, 201, 52, 52, 52, 201, 201, 52, 52, 201, 52, 52, 52, 201, 52, 52, 52, 201, 52, 201, 52, 201, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0,
0, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 0, 0, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201,
201, 201, 201, 201, 201, 201, 201, 0, 0, 255, 255, 0, 201, 52, 52, 52, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 52, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201,
201, 201, 0, 255, 255, 0, 201, 201, 201, 52, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 52, 201, 201, 201, 52, 201, 201, 201, 201, 201, 201, 201, 201, 201, 0, 255, 255, 0,
201, 201, 201, 52, 201, 52, 201, 52, 201, 52, 52, 52, 201, 52, 52, 52, 201, 52, 52, 52, 201, 201, 201, 52, 52, 52, 201, 52, 52, 52, 201, 0, 255, 255, 0, 201, 201, 201, 52, 201, 52,
201, 52, 201, 52, 201, 52, 201, 52, 201, 201, 201, 52, 201, 201, 201, 52, 201, 52, 201, 52, 201, 52, 201, 52, 201, 0, 255, 255, 0, 201, 52, 52, 201, 201, 52, 52, 52, 201, 52, 201, 52,
201, 52, 52, 52, 201, 201, 52, 52, 201, 52, 201, 52, 52, 52, 201, 52, 201, 52, 201, 0, 255, 255, 0, 0, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201,
201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 201, 0, 0, 255, 255, 255, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
0, 0, 0, 0, 0, 0, 0, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255, 255,
255, 255, 255 };
#define STRIDE 35
#define WIDTH 10
#define HEIGHT 20

int alpha = 0;
int tick = 0;
int direction = 1;
int offset = 0;

void incrementWithBounce() {
  offset = offset + direction;
  if (offset == STRIDE - WIDTH || offset == 0) {
    direction *= -1;
  }
}

void incrementWithWrap() {
  offset = (offset + direction) % STRIDE;
}

void loop() {
  tick++;

  if (tick % 10 == 0) {
    // incrementWithBounce();
    incrementWithWrap();
  }

  int xoffset = offset;
  for (int i = 0; i < WIDTH; i++) {
    for (int j = 0; j < HEIGHT; j++) {
      int index = (j*STRIDE+(i+xoffset)%STRIDE);
      setCartesianPixelColor(i, j, red[index], green[index], blue[index]);
    }
  }
  updateDisplay();
}
